# DomainServices.OfferService.Api

## grpcurl tests
grpcurl -insecure 172.30.35.51:31006 list DomainServices.OfferService.v1.OfferService
       
grpcurl -insecure -d "{\"OfferId\":1}" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/GetOffer
grpcurl -insecure -d "{\"OfferId\":74757}" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/GetMortgageDetail
grpcurl -insecure -d "{\"CaseId\":303080083,\"OfferType\":1}" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/GetOfferList
grpcurl -insecure -d "{\"OfferId\":1}" -H "Authorization: Basic YTph" 172.30.35.51:31006 DomainServices.OfferService.v1.OfferService/GetMortgageOfferFPSchedule
grpcurl -insecure -d "{\"ResourceProcessId\":\"52f28a96-6a38-4e96-a337-12f597d95b6c\",\"BasicParameters\":{\"FinancialResourcesOwn\":{\"units\":3000000,\"nanos\":0},\"FinancialResourcesOther\":{\"units\":0,\"nanos\":0},\"GuaranteeDateTo\":null,\"StatementTypeId\":null},\"SimulationInputs\":{\"ExpectedDateOfDrawing\":{\"year\":2023,\"month\":12,\"day\":15},\"ProductTypeId\":20001,\"LoanKindId\":2000,\"LoanAmount\":{\"units\":3000000,\"nanos\":0},\"LoanDuration\":240,\"GuaranteeDateFrom\":{\"year\":2023,\"month\":12,\"day\":11},\"InterestRateDiscount\":{\"units\":0,\"nanos\":0},\"FixedRatePeriod\":60,\"CollateralAmount\":{\"units\":5000000,\"nanos\":0},\"DrawingTypeId\":2,\"DrawingDurationId\":null,\"PaymentDay\":15,\"IsEmployeeBonusRequested\":false,\"Developer\":null,\"LoanPurposes\":[{\"LoanPurposeId\":204,\"Sum\":{\"units\":500000,\"nanos\":0}},{\"LoanPurposeId\":202,\"Sum\":{\"units\":2500000,\"nanos\":0}}],\"FeeSettings\":null,\"MarketingActions\":{\"Domicile\":false,\"HealthRiskInsurance\":false,\"RealEstateInsurance\":false,\"IncomeLoanRatioDiscount\":false,\"UserVip\":false},\"Fees\":[{\"FeeId\":2001,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2012,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2016,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2017,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}}],\"RiskLifeInsurance\":{\"Sum\":null,\"Frequency\":null},\"RealEstateInsurance\":{\"Sum\":null,\"Frequency\":null}},\"IsCreditWorthinessSimpleRequested\":false,\"CreditWorthinessSimpleInputs\":{\"TotalMonthlyIncome\":null,\"ExpensesSummary\":{\"Rent\":null,\"Other\":null},\"ObligationsSummary\":{\"LoansInstallmentsAmount\":null,\"CreditCardsAmount\":null,\"AuthorizedOverdraftsTotalAmount\":null},\"ChildrenCount\":0},\"Identities\":[]}" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/SimulateMortgage
grpcurl -insecure -d "{\"CaseId\":1,\"ResponseCodeTypeId\":2,\"Data\":\"ahoj\"}" -H "Authorization: Basic YTph" -H "noby-user-id: 3048" -H "noby-user-ident: KBUID=A09FK3" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/CreateResponseCode
grpcurl -insecure -d "{\"CaseId\":1}" -H "Authorization: Basic YTph" -H "noby-user-id: 3048" -H "noby-user-ident: KBUID=A09FK3" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/GetResponseCodeList
grpcurl -insecure -d "{\"CaseId\":3075599,\"BasicParameters\":{\"Amount\":{\"units\":2000000}},\"SimulationInputs\":{\"InterestRateValidFrom\":{\"year\":2024,\"month\":3,\"day\":8}}}" -H "noby-user-id: 3048" -H "noby-user-ident: KBUID=A09FK3" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/SimulateMortgageRetention

grpcurl -insecure -d "{\"CaseId\":3075599,\"BasicParameters\":{\"FeeAmountDiscount\":{\"units\":500}},\"SimulationInputs\":{\"ExtraPaymentDate\":{\"year\":2024,\"month\":5,\"day\":8},\"ExtraPaymentAmount\":{\"units\":20000},\"ExtraPaymentReasonId\":1}}" -H "noby-user-id: 3048" -H "noby-user-ident: KBUID=A09FK3" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/SimulateMortgageExtraPayment


grpcurl -insecure -d "{\"OfferId\":9}" -H "Authorization: Basic YTph" 127.0.0.1:31006 DomainServices.OfferService.v1.OfferService/CancelOffer
grpcurl -insecure -d "{\"OfferId\":459}" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/GetOffer
grpcurl -insecure -d "{\"OfferId\":459}" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/GetMortgageOffer
grpcurl -insecure -d "{\"OfferId\":459}" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/GetMortgageOfferDetail
grpcurl -insecure -d "{\"OfferId\":459}" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/GetMortgageOfferFPSchedule
grpcurl -insecure -d "{\"ResourceProcessId\":\"4D115798-0E05-4CF0-8A5A-1A3F871B3727\", \"BasicParameters\": {}, \"SimulationInputs\": {\"ProductTypeId\":20001, \"LoanKindId\":2000, \"LoanAmount\":{\"units\":3150020},\"LoanDuration\":36, \"GuaranteeDateFrom\": {\"year\":2022,\"month\":5,\"day\":15 }, \"InterestRateDiscount\": {\"units\":1}, \"FixedRatePeriod\": 24, \"CollateralAmount\": {\"units\":6500000}, \"DrawingDuration\": 0, \"LoanPurposes\":[{\"LoanPurposeId\":201,\"Sum\":{\"units\":1000000}}, {\"LoanPurposeId\":202,\"Sum\":{\"units\":2000000}}], \"MarketingActions\":{\"Domicile\": true} }}" -H "Authorization: Basic YTph" 127.0.0.1:5020 DomainServices.OfferService.v1.OfferService/SimulateMortgage
grpcurl -insecure -d "{\"OfferId\":1}" -H "noby-user-id: 3048" -H "noby-user-ident: KBUID=A09FK3" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/GetOfferDeveloper
grpcurl -insecure -d "{\"CaseId\":303063381,\"FutureInterestRateValidTo\":{\"year\":2024,\"month\":4,\"day\":8}}" -H "noby-user-id: 3048" -H "noby-user-ident: KBUID=A09FK3" -H "Authorization: Basic WFhfTk9CWV9STVRfVVNSX1RFU1Q6cHBtbGVzbnJUV1lTRFlHRFIhOTg1Mzg1MzU2MzQ1NDQ=" 172.30.35.51:30006 DomainServices.OfferService.v1.OfferService/GetInterestRate

grpcurl -insecure -d "{\"BatchSize\":50}" -H "Authorization: Basic YTph" 127.0.0.1:31006 DomainServices.OfferService.MaintananceService/ImportOfferFromDatamart
grpcurl -insecure -d "{}" -H "Authorization: Basic YTph" 127.0.0.1:31006 DomainServices.OfferService.MaintananceService/DeleteRefixationOfferOlderThan

## run batch
dotnet run --project "d:\Visual Studio Projects\MPSS-FOMS\InternalServices\ServiceDiscovery\Api\CIS.InternalServices.ServiceDiscovery.Api.csproj"
dotnet run --project "d:\Visual Studio Projects\MPSS-FOMS\DomainServices\CodebookService\Api\DomainServices.CodebookService.Api.csproj"
dotnet run --project "d:\Visual Studio Projects\MPSS-FOMS\DomainServices\OfferService\Api\DomainServices.OfferService.Api.csproj"
