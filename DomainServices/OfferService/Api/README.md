# DomainServices.OfferService.Api

## Vygenerování EAS wrapperu
        dotnet-svcutil "d:\...\DomainServices\OfferService\EAS_WS_SB_Services.xml" -o c:/EasWrapper.cs -i -n *,DomainServices.OfferService.Api.Eas.EasWrapper

## grpcurl tests
grpcurl -insecure 172.30.35.51:31006 list DomainServices.OfferService.v1.OfferService
       
grpcurl -insecure -d "{\"OfferId\":6}" -H "Authorization: Basic YTph" 172.30.35.51:30006 DomainServices.OfferService.v1.OfferService/GetOffer
grpcurl -insecure -d "{\"OfferId\":6}" -H "Authorization: Basic YTph" 172.30.35.51:31006 DomainServices.OfferService.v1.OfferService/GetMortgageOffer
grpcurl -insecure -d "{\"OfferId\":6}" -H "Authorization: Basic YTph" 172.30.35.51:31006 DomainServices.OfferService.v1.OfferService/GetMortgageOfferDetail
grpcurl -insecure -d "{\"OfferId\":6}" -H "Authorization: Basic YTph" 172.30.35.51:31006 DomainServices.OfferService.v1.OfferService/GetMortgageOfferFPSchedule
grpcurl -insecure -d "{\"ResourceProcessId\":\"3ee804c5-1fd4-48b9-ae06-40659bc90da4\",\"BasicParameters\":{\"FinancialResourcesOwn\":null,\"FinancialResourcesOther\":null,\"GuaranteeDateTo\":null,\"StatementTypeId\":null},\"SimulationInputs\":{\"ExpectedDateOfDrawing\":{\"year\":2023,\"month\":6,\"day\":22},\"ProductTypeId\":20001,\"LoanKindId\":2000,\"LoanAmount\":{\"units\":6000000,\"nanos\":0},\"LoanDuration\":72,\"GuaranteeDateFrom\":{\"year\":2023,\"month\":6,\"day\":13},\"InterestRateDiscount\":{\"units\":0,\"nanos\":600000000},\"FixedRatePeriod\":120,\"CollateralAmount\":{\"units\":60000000,\"nanos\":0},\"DrawingTypeId\":2,\"DrawingDurationId\":null,\"PaymentDay\":15,\"IsEmployeeBonusRequested\":false,\"Developer\":{\"DeveloperId\":null,\"ProjectId\":null,\"Description\":null},\"LoanPurposes\":[{\"LoanPurposeId\":202,\"Sum\":{\"units\":6000000,\"nanos\":0}}],\"FeeSettings\":null,\"MarketingActions\":{\"Domicile\":true,\"HealthRiskInsurance\":true,\"RealEstateInsurance\":false,\"IncomeLoanRatioDiscount\":false,\"UserVip\":false},\"Fees\":[{\"FeeId\":2001,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2004,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2012,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2013,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2016,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2017,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}}],\"RiskLifeInsurance\":{\"Sum\":null,\"Frequency\":1},\"RealEstateInsurance\":{\"Sum\":null,\"Frequency\":12}},\"IsCreditWorthinessSimpleRequested\":false,\"CreditWorthinessSimpleInputs\":{\"TotalMonthlyIncome\":null,\"ExpensesSummary\":{\"Rent\":null,\"Other\":null},\"ObligationsSummary\":{\"LoansInstallmentsAmount\":null,\"CreditCardsAmount\":null,\"AuthorizedOverdraftsTotalAmount\":null},\"ChildrenCount\":0},\"Identities\":[{\"IdentityId\":951081336,\"IdentityScheme\":2}]}" -H "noby-user-id: 3048" -H "noby-user-ident: KBUID=A09FK3" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/SimulateMortgage

grpcurl -insecure -d "{\"OfferId\":6}" -H "Authorization: Basic YTph" 127.0.0.1:5020 DomainServices.OfferService.v1.OfferService/GetOffer
grpcurl -insecure -d "{\"OfferId\":6}" -H "Authorization: Basic YTph" 127.0.0.1:5020 DomainServices.OfferService.v1.OfferService/GetMortgageOffer
grpcurl -insecure -d "{\"OfferId\":6}" -H "Authorization: Basic YTph" 127.0.0.1:5020 DomainServices.OfferService.v1.OfferService/GetMortgageOfferDetail
grpcurl -insecure -d "{\"OfferId\":6}" -H "Authorization: Basic YTph" 172.30.35.51:30006 DomainServices.OfferService.v1.OfferService/GetMortgageOfferFPSchedule
grpcurl -insecure -d "{\"ResourceProcessId\":\"3ee804c5-1fd4-48b9-ae06-40659bc90da4\",\"BasicParameters\":{\"FinancialResourcesOwn\":null,\"FinancialResourcesOther\":null,\"GuaranteeDateTo\":null,\"StatementTypeId\":null},\"SimulationInputs\":{\"ExpectedDateOfDrawing\":{\"year\":2023,\"month\":6,\"day\":22},\"ProductTypeId\":20001,\"LoanKindId\":2000,\"LoanAmount\":{\"units\":6000000,\"nanos\":0},\"LoanDuration\":72,\"GuaranteeDateFrom\":{\"year\":2023,\"month\":6,\"day\":13},\"InterestRateDiscount\":{\"units\":0,\"nanos\":600000000},\"FixedRatePeriod\":120,\"CollateralAmount\":{\"units\":60000000,\"nanos\":0},\"DrawingTypeId\":2,\"DrawingDurationId\":null,\"PaymentDay\":15,\"IsEmployeeBonusRequested\":false,\"Developer\":{\"DeveloperId\":null,\"ProjectId\":null,\"Description\":null},\"LoanPurposes\":[{\"LoanPurposeId\":202,\"Sum\":{\"units\":6000000,\"nanos\":0}}],\"FeeSettings\":null,\"MarketingActions\":{\"Domicile\":true,\"HealthRiskInsurance\":true,\"RealEstateInsurance\":false,\"IncomeLoanRatioDiscount\":false,\"UserVip\":false},\"Fees\":[{\"FeeId\":2001,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2004,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2012,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2013,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2016,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}},{\"FeeId\":2017,\"DiscountPercentage\":{\"units\":0,\"nanos\":0}}],\"RiskLifeInsurance\":{\"Sum\":null,\"Frequency\":1},\"RealEstateInsurance\":{\"Sum\":null,\"Frequency\":12}},\"IsCreditWorthinessSimpleRequested\":false,\"CreditWorthinessSimpleInputs\":{\"TotalMonthlyIncome\":null,\"ExpensesSummary\":{\"Rent\":null,\"Other\":null},\"ObligationsSummary\":{\"LoansInstallmentsAmount\":null,\"CreditCardsAmount\":null,\"AuthorizedOverdraftsTotalAmount\":null},\"ChildrenCount\":0},\"Identities\":[{\"identityId\":951081336,\"identityScheme\":2}]}" -H "noby-user-id: 3048" -H "noby-user-ident: KBUID=A09FK3" -H "Authorization: Basic YTph" 127.0.0.1:30006 DomainServices.OfferService.v1.OfferService/SimulateMortgage

## run batch
dotnet run --project "d:\Visual Studio Projects\MPSS-FOMS\InternalServices\ServiceDiscovery\Api\CIS.InternalServices.ServiceDiscovery.Api.csproj"
dotnet run --project "d:\Visual Studio Projects\MPSS-FOMS\DomainServices\CodebookService\Api\DomainServices.CodebookService.Api.csproj"
dotnet run --project "d:\Visual Studio Projects\MPSS-FOMS\DomainServices\OfferService\Api\DomainServices.OfferService.Api.csproj"
